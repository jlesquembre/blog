<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>File and directory permissions | Lafuente</title><meta name="Description" content="I am writing about my experiences as a software developer."><link rel="alternate" href="/feed/feed.xml" type="application/atom+xml" title="Lafuente"><style>*,::after,::before{box-sizing:border-box}ol[class],ul[class]{padding:0}blockquote,body,dd,dl,figure,h1,h2,h3,h4,ol[class],p,ul[class]{margin:0}body{min-height:100vh;scroll-behavior:smooth;text-rendering:optimizeSpeed;line-height:1.5}ol[class],ul[class]{list-style:none}a:not([class]){text-decoration-skip-ink:auto}img{max-width:100%;display:block}article>*+*{margin-top:1em}button,input,select,textarea{font:inherit}img:not([alt]){filter:blur(10px)}@media(prefers-reduced-motion:reduce){*{animation-duration:NaNs!important;animation-iteration-count:1!important;transition-duration:NaNs!important;scroll-behavior:auto!important}}:root{--bg:#fafafa;--fg:#6c7680;--ui:#959da6;--text:#000000;--tag:#399ee6;--link:#399ee6;--side-bg:#1f2430;--side-fg:#cbccc6;--side-ui:#707a8c;--bg-m:#1f2430}*{box-sizing:border-box}body,html{padding:0;margin:0;font-family:system-ui,sans-serif;background-color:var(--bg)}html{height:100%}body{display:grid;grid-template-rows:1fr auto;grid-template-columns:30% 1fr 2.5rem;grid-column-gap:1rem;grid-row-gap:0;min-height:100%}header{grid-column:1;grid-row:1/2}main{grid-column:2;grid-row:1/3;padding:1rem}footer{grid-column:1;grid-row:2/3;position:sticky;bottom:0;display:flex;justify-content:center}.side{background-color:var(--side-bg);color:var(--side-fg)}a,a:hover,a:visited{text-decoration:none;color:inherit}main.blog p{margin:1.5em 0;font-size:20px;max-width:700px}main.blog a:not(.tag):not(.direct-link),main.blog a:not(.tag):not(.direct-link):visited{text-decoration:underline var(--link)}main.blog a:not(.tag):not(.direct-link):hover{color:var(--link);text-decoration:underline var(--link)}.title{padding:.5em 1em 0;display:inline-block;margin:0 0 1em 1em;background-color:var(--bg);color:var(--text)}.nav-item{padding:1.5em}.nav-item:hover{background-color:var(--ui);color:var(--text)}.nav-item-active,.nav-item-active:hover{font-weight:700;background-color:var(--bg);color:var(--text)}time{color:var(--fg)}.postlist-date{display:block}.postlist-item{margin:1.5em 0}.year-header{display:flex;color:var(--fg);border-bottom:1px dotted var(--fg)}.year-header>span{margin-left:auto}.year-header+.postlist-item{margin-top:0}.tag>span:first-child{color:var(--tag);padding:0 4px;border:1px solid rgba(0,0,0,.08)}.tag>span::before{content:""}.tag:hover>span:first-child{background-color:rgba(0,0,0,.08)}.tags-list{display:flex;flex-direction:column}.tags-list a{width:max-content}.tags-side span:first-child{border:none}.tags-side .tag:hover>span{background-color:var(--bg)}.direct-link{font-family:sans-serif;text-decoration:none;font-style:normal;margin-left:.1em}a[href].direct-link,a[href].direct-link:visited{color:transparent}:hover>a[href].direct-link,:hover>a[href].direct-link:visited,a[href].direct-link:focus,a[href].direct-link:focus:visited{color:#aaa}.sticky{position:sticky;top:1em}.summary-container{padding-top:30vh;display:grid;grid-template-columns:auto 1fr}.summary{padding:0 2em;margin:0 auto}.section-header{writing-mode:vertical-lr;text-orientation:upright;text-transform:capitalize}.social{display:flex;align-self:center;line-height:1em}.social svg{fill:var(--side-fg);width:2.5em}.icon-github svg:hover{fill:#000}.icon-twitter svg:hover{fill:#00c9ff}.icon-feed svg:hover{fill:#ff9132}a.social-icon{text-decoration:none;margin:0 .5em}#home{margin-left:auto;background-color:var(--bg);color:var(--fg);padding:.5em;text-decoration:none;display:none}#all-pages{display:block;background-color:#fff;position:fixed;padding:.25em;color:red;right:0}</style><link rel="stylesheet" href="/css/prism.css"></head><body>null<header class="side"><a href="/"><h1 class="title">Lafuente</h1></a><div class="sticky"><div class="social"><a class="social-icon icon-github" href="https://github.com/jlesquembre" title="@jlesquembre on GitHub"><svg viewBox="0 0 32 32"><path d="M16 0C7.163 0 0 7.163 0 16s7.163 16 16 16 16-7.163 16-16S24.837 0 16 0zm9.502 25.502a13.4 13.4 0 01-5.51 3.334v-2.398c0-1.26-.432-2.188-1.297-2.781.542-.052 1.039-.125 1.492-.219s.932-.229 1.438-.406.958-.388 1.359-.633.786-.563 1.156-.953.68-.833.93-1.328.448-1.089.594-1.781.219-1.456.219-2.289c0-1.615-.526-2.99-1.578-4.125.479-1.25.427-2.609-.156-4.078l-.391-.047c-.271-.031-.758.083-1.461.344s-1.492.688-2.367 1.281a14.367 14.367 0 00-3.859-.516c-1.344 0-2.625.172-3.844.516a13.39 13.39 0 00-1.57-.93c-.495-.245-.891-.411-1.188-.5s-.573-.143-.828-.164-.419-.026-.492-.016-.125.021-.156.031c-.583 1.479-.635 2.839-.156 4.078-1.052 1.135-1.578 2.51-1.578 4.125 0 .833.073 1.596.219 2.289s.344 1.286.594 1.781.56.938.93 1.328.755.708 1.156.953.854.456 1.359.633.984.313 1.438.406.951.167 1.492.219c-.854.583-1.281 1.51-1.281 2.781v2.445A13.4 13.4 0 016.5 25.501 13.4 13.4 0 012.563 16a13.4 13.4 0 013.936-9.502 13.4 13.4 0 014.272-2.881c1.654-.7 3.414-1.054 5.229-1.054s3.575.355 5.23 1.055a13.4 13.4 0 014.272 2.881A13.4 13.4 0 0129.438 16c0 1.815-.355 3.575-1.055 5.23a13.41 13.41 0 01-2.881 4.272z"/></svg> </a><a class="social-icon icon-twitter" href="https://twitter.com/jlesquembre" title="@jlesquembre on Twitter"><svg viewBox="0 0 32 32" fill="#00c9ff"><path d="M32 6.076a13.14 13.14 0 01-3.771 1.034 6.592 6.592 0 002.887-3.632 13.151 13.151 0 01-4.169 1.593 6.557 6.557 0 00-4.792-2.073 6.565 6.565 0 00-6.565 6.565c0 .515.058 1.016.17 1.496a18.64 18.64 0 01-13.532-6.86A6.536 6.536 0 001.339 7.5a6.563 6.563 0 002.921 5.465 6.54 6.54 0 01-2.974-.821l-.001.083a6.57 6.57 0 005.266 6.438 6.578 6.578 0 01-2.965.112 6.572 6.572 0 006.133 4.559 13.172 13.172 0 01-8.154 2.81c-.53 0-1.052-.031-1.566-.092a18.579 18.579 0 0010.064 2.95c12.076 0 18.679-10.004 18.679-18.68 0-.285-.006-.568-.019-.849A13.354 13.354 0 0032 6.076z"/></svg> </a><a class="social-icon icon-feed" href="/feed/feed.xml" title="José Luis Lafuente's RSS Feed"><svg viewBox="0 0 32 32" fill="#ff9132"><path d="M4.259 23.467A4.265 4.265 0 000 27.719a4.25 4.25 0 004.259 4.244 4.25 4.25 0 004.265-4.244c.001-2.336-1.906-4.252-4.265-4.252zM.005 10.873v6.133c3.993 0 7.749 1.562 10.577 4.391A14.897 14.897 0 0114.966 32h6.16C21.125 20.349 11.648 10.873.005 10.873zM.012 0v6.136C14.255 6.136 25.848 17.74 25.848 32H32C32 14.36 17.648 0 .012 0z"/></svg> </a><a href="/" id="home">Home</a></div><div class="summary-container"><h1 class="section-header">blog</h1><div class="summary"><div>24 Jan 2011</div><h3>File and directory permissions</h3><div class="tags-list tags-side"><a href="/tags/linux" class="tag"><span>linux</span></a></div></div></div></div></header><main class="blog"><div class="date-tags-container"><time datetime="2011-01-24">24 Jan 2011</time> · <a href="/tags/linux" class="tag"><span>linux</span></a></div><h1>File and directory permissions</h1><p>The best way to understand the Linux permissions, is with an example. If we run the command <code>ls -l</code> we get an output like this:</p><pre class="language-text"><code class="language-text">1 2          3     4     5      6     7             8<br>- rw-r-----  1     user  users     8  ene 24 11:01  f.txt<br>d rwxr-xr-x  2     root  root   4096  ene 24 12:14  dir</code></pre><p>which maps to</p><pre class="language-text"><code class="language-text">1 2          3     4     5      6     7             8<br>d uuugggooo  links owner group  size  date          name</code></pre><p>Numbers from 1 to 8 are not really in the output, but are here to clarify every field.</p><ol><li><p>First character specifies the type of the file. In the example above the hyphen (<code>-</code>) in the first character indicates that this is a normal file, and the <code>d</code> indicates that this other file is a directory. <a href="http://en.wikipedia.org/wiki/Unix_file_types">List with all file types</a></p></li><li><p>Next 9 characters specifies the files permission. Each 3 characters refers to the read, write and execute permissions for user, group and others. In this example, <code>rw-r-----</code> indicates read-write permission for user, read permission for group, and no permission for others.</p></li><li><p>Number of <a href="http://en.wikipedia.org/wiki/Hard_link">links</a>, in this case is 1 for the file <code>f.txt</code> and 2 for the directory <code>dir</code>.</p></li><li><p>Owner, in this example, user for the file, and root for the directory.</p></li><li><p>Group, in this example, users for the file, and root for the directory.</p></li><li><p>Size of the file.</p></li><li><p>Last modified time.</p></li><li><p>File name.</p></li></ol><p>Difference in access permission between files and folders are:</p><table><thead><tr><th></th><th><strong>File</strong></th><th><strong>Folder</strong></th></tr></thead><tbody><tr><td><strong>Read</strong></td><td>File contents can be read</td><td>Directory listing can be obtained</td></tr><tr><td><strong>Write</strong></td><td>File contents can be changed</td><td>Directory content can be changed</td></tr><tr><td><strong>Execute</strong></td><td>File can be executed</td><td>Directory can be accessed</td></tr></tbody></table><p>Remember, give execute permission to a folder if you want to access it.</p><p>Instead of use the values <code>r</code>, <code>w</code> and <code>x</code>, you can use numeric values, where</p><pre class="language-text"><code class="language-text">r = 4<br>w = 2<br>x = 1<br>- = 0</code></pre><p>It is possible combine this values, a table with all the possibilities:</p><table><thead><tr><th>Value</th><th>Text equivalent</th><th>Meaning</th></tr></thead><tbody><tr><td>0</td><td>---</td><td>All types of access are denied</td></tr><tr><td>1</td><td>--x</td><td>Execute access is allowed</td></tr><tr><td>2</td><td>-w-</td><td>Write access is allowed</td></tr><tr><td>3</td><td>-wx</td><td>Write and execute access are allowed</td></tr><tr><td>4</td><td>r--</td><td>Read access is allowed</td></tr><tr><td>5</td><td>r-x</td><td>Read and execute access are allowed</td></tr><tr><td>6</td><td>rw-</td><td>Read and write access are allowed</td></tr><tr><td>7</td><td>rwx</td><td>Everything is allowed</td></tr></tbody></table><p>To change the permissions you can use the command <code>chmod</code>, which has this syntax:</p><pre class="language-text"><code class="language-text">chmod [options] MODE FILE</code></pre><p>Let's see some examples, to give read and write access to everyone, you can use this two equivalent commands:</p><pre class="language-text"><code class="language-text">chmod a=rw file.txt<br>chmod 666 file.txt</code></pre><p>To give read and write access to user and group, but no access to others, you can use this two equivalent commands:</p><pre class="language-text"><code class="language-text">chmod u=rw,g=rw,o= file.txt<br>chmod 660 file.txt</code></pre><p>If you want to change the access permissions of a folder recursively never use the -R option. Chmod doesn't differentiate between folders and files, and this is really important, because execution access has different meanings for files and folders. Instead use this:</p><p>For directories:</p><pre class="language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token builtin class-name">.</span> -type d -exec <span class="token function">chmod</span> <span class="token number">755</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span></code></pre><p>For files:</p><pre class="language-bash"><code class="language-bash"><span class="token function">find</span> <span class="token builtin class-name">.</span> -type f -exec <span class="token function">chmod</span> <span class="token number">644</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span></code></pre><p>To finish, if you want to change the file owner, you can use the command chown, with this syntax:</p><pre class="language-text"><code class="language-text">chown [options] OWNER[:GROUP] file.txt</code></pre><p>For example:</p><pre class="language-bash"><code class="language-bash"><span class="token function">chown</span> user1 file.txt</code></pre><p>To change the owner recursively, use the option -R If you just want to change the group, use the command chgrp.</p><p><a href="/">← Home</a></p></main><footer class="side"><a href="/about"><div class="nav-item">About</div></a><a href="/tags"><div class="nav-item">Categories</div></a><a href="/posts"><div class="nav-item">Archives</div></a></footer></body></html>